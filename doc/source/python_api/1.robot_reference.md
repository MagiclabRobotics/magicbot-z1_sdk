---
title: 机器人主控制服务
createTime: 2025/01/27 10:18:56
permalink: /human-z1/python_robot_reference/
---
# 机器人主控服务 (Python)

> 提供机器人系统主控制器，通过`MagicRobot`类可以进行资源初始化、管理通信连接、访问各子控制器如运动控制器、语音、状态监控以及传感器控制器等。

## 接口定义
`MagicRobot` 是机器人SDK的统一入口类。

### MagicRobot
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>类名</td><td>MagicRobot</td></tr>
    <tr><td>构造函数</td><td><code>robot = MagicRobot()</code></td></tr>
    <tr><td>功能概述</td><td>构造函数，创建 MagicRobot 实例。</td></tr>
    <tr><td>备注</td><td>构造内部状态。</td></tr>
  </tbody>
</table>

### initialize
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>initialize</td></tr>
    <tr><td>函数声明</td><td><code>bool initialize(str local_ip)</code></td></tr>
    <tr><td>功能概述</td><td>初始化机器人系统，包括控制器与网络模块。</td></tr>
    <tr><td>参数说明</td><td><code>local_ip</code>：本地通信IP地址。</td></tr>
    <tr><td>返回值</td><td><code>True</code> 表示成功，<code>False</code> 表示失败。</td></tr>
    <tr><td>备注</td><td>首次使用前必须调用。</td></tr>
  </tbody>
</table>

### shutdown
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>shutdown</td></tr>
    <tr><td>函数声明</td><td><code>void shutdown()</code></td></tr>
    <tr><td>功能概述</td><td>关闭机器人系统，释放资源。</td></tr>
    <tr><td>备注</td><td>配合 initialize 使用。</td></tr>
  </tbody>
</table>

### connect
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>connect</td></tr>
    <tr><td>函数声明</td><td><code>Status connect()</code></td></tr>
    <tr><td>功能概述</td><td>与机器人服务建立通信连接。</td></tr>
    <tr><td>返回值</td><td><code>Status</code> 对象，<code>Status.code == ErrorCode.OK</code> 表示成功。</td></tr>
    <tr><td>备注</td><td>阻塞接口，需初始化后调用。</td></tr>
  </tbody>
</table>

### disconnect
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>disconnect</td></tr>
    <tr><td>函数声明</td><td><code>Status disconnect()</code></td></tr>
    <tr><td>功能概述</td><td>断开与机器人服务的连接。</td></tr>
    <tr><td>返回值</td><td><code>Status</code> 对象，<code>Status.code == ErrorCode.OK</code> 表示成功。</td></tr>
    <tr><td>备注</td><td>阻塞接口，与 connect 配对使用。</td></tr>
  </tbody>
</table>

### get_sdk_version
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_sdk_version</td></tr>
    <tr><td>函数声明</td><td><code>str get_sdk_version()</code></td></tr>
    <tr><td>功能概述</td><td>获取当前 SDK 的版本号。</td></tr>
    <tr><td>返回值</td><td>SDK 版本字符串（如 <code>0.0.1</code>）。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，便于调试或日志标记。</td></tr>
  </tbody>
</table>

### set_timeout
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>set_timeout</td></tr>
    <tr><td>函数声明</td><td><code>void set_timeout(int timeout)</code></td></tr>
    <tr><td>功能概述</td><td>设置接口调用的超时时间。</td></tr>
    <tr><td>参数说明</td><td><code>timeout</code>：单位为毫秒。</td></tr>
    <tr><td>返回值</td><td>无</td></tr>
    <tr><td>备注</td><td>非阻塞接口，默认值为 5000 毫秒。</td></tr>
  </tbody>
</table>

### get_motion_control_level
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_motion_control_level</td></tr>
    <tr><td>函数声明</td><td><code>ControllerLevel get_motion_control_level()</code></td></tr>
    <tr><td>功能概述</td><td>获取当前运动控制级别（高层/低层）。</td></tr>
    <tr><td>返回值</td><td><code>ControllerLevel</code> 枚举值。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，用于判断当前控制权限。</td></tr>
  </tbody>
</table>

### set_motion_control_level
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>set_motion_control_level</td></tr>
    <tr><td>函数声明</td><td><code>Status set_motion_control_level(ControllerLevel level)</code></td></tr>
    <tr><td>功能概述</td><td>设置当前运动控制级别。</td></tr>
    <tr><td>参数说明</td><td><code>level</code>：控制权限枚举值。</td></tr>
    <tr><td>返回值</td><td><code>Status</code> 对象，<code>Status.code == ErrorCode.OK</code> 表示设置成功。</td></tr>
    <tr><td>备注</td><td>阻塞接口，控制模式切换时使用。</td></tr>
  </tbody>
</table>

### get_high_level_motion_controller
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_high_level_motion_controller</td></tr>
    <tr><td>函数声明</td><td><code>HighLevelMotionController get_high_level_motion_controller()</code></td></tr>
    <tr><td>功能概述</td><td>获取高层运动控制器对象。</td></tr>
    <tr><td>返回值</td><td><code>HighLevelMotionController</code> 对象，用于调用高层控制接口。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，封装了步态、特技、遥控等控制。</td></tr>
  </tbody>
</table>

### get_low_level_motion_controller
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_low_level_motion_controller</td></tr>
    <tr><td>函数声明</td><td><code>LowLevelMotionController get_low_level_motion_controller()</code></td></tr>
    <tr><td>功能概述</td><td>获取低层运动控制器对象。</td></tr>
    <tr><td>返回值</td><td><code>LowLevelMotionController</code> 对象，用于控制关节或电机。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，直接控制关节电机、获取imu等。</td></tr>
  </tbody>
</table>

### get_audio_controller
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_audio_controller</td></tr>
    <tr><td>函数声明</td><td><code>AudioController get_audio_controller()</code></td></tr>
    <tr><td>功能概述</td><td>获取音频控制器对象。</td></tr>
    <tr><td>返回值</td><td><code>AudioController</code> 对象，用于语音控制。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，播放语音和控制音量。</td></tr>
  </tbody>
</table>

### get_sensor_controller
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_sensor_controller</td></tr>
    <tr><td>函数声明</td><td><code>SensorController get_sensor_controller()</code></td></tr>
    <tr><td>功能概述</td><td>获取传感器控制器对象。</td></tr>
    <tr><td>返回值</td><td><code>SensorController</code> 对象，用于访问传感器数据。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，封装了 IMU、RGBD 等读取。</td></tr>
  </tbody>
</table>

### get_state_monitor
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>get_state_monitor</td></tr>
    <tr><td>函数声明</td><td><code>StateMonitor get_state_monitor()</code></td></tr>
    <tr><td>功能概述</td><td>获取状态监控器对象。</td></tr>
    <tr><td>返回值</td><td><code>StateMonitor</code> 对象，用于获取机器人当前状态信息。</td></tr>
    <tr><td>备注</td><td>非阻塞接口，封装了 BMS、故障 等状态信息的读取。</td></tr>
  </tbody>
</table>
